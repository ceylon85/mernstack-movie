{"ast":null,"code":"import _slicedToArray from \"/Users/heavenvoice/Desktop/code/mernstack-movie/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/heavenvoice/Desktop/code/mernstack-movie/client/src/components/views/MovieDetail/Sections/ReplyComment.js\";\nimport React, { useEffect, useState } from 'react';\nimport SingleComment from './SingleComment';\n\nfunction ReplyComment(props) {\n  const _useState = useState(0),\n        _useState2 = _slicedToArray(_useState, 2),\n        ChildCommentNumber = _useState2[0],\n        setChildCommentNumber = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        OpenReplyComments = _useState4[0],\n        setOpenReplyComments = _useState4[1];\n\n  useEffect(() => {\n    let commentNumber = 0;\n    props.CommentLists.map(comment => {\n      if (comment.responseTo === props.parentCommentId) {\n        commentNumber++;\n      }\n    });\n    setChildCommentNumber(commentNumber);\n  }, [props.CommentLists, props.parentCommentId]);\n\n  let renderReplyComment = parentCommentId => props.CommentLists.map((comment, index) => React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, comment.responseTo === parentCommentId && React.createElement(\"div\", {\n    style: {\n      width: '80%',\n      marginLeft: '40px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(SingleComment, {\n    comment: comment,\n    postId: props.postId,\n    refreshFunction: props.refreshFunction,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }), React.createElement(ReplyComment, {\n    CommentLists: props.CommentLists,\n    parentCommentId: comment._id,\n    postId: props.postId,\n    refreshFunction: props.refreshFunction,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }))));\n\n  const handleChange = () => {\n    setOpenReplyComments(!OpenReplyComments);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, ChildCommentNumber > 0 && React.createElement(\"p\", {\n    style: {\n      fontSize: '14px',\n      margin: 0,\n      color: 'gray'\n    },\n    onClick: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"View \", ChildCommentNumber, \"more comment(s)\"), OpenReplyComments && renderReplyComment(props.parentCommentId));\n}\n\nexport default ReplyComment;","map":{"version":3,"sources":["/Users/heavenvoice/Desktop/code/mernstack-movie/client/src/components/views/MovieDetail/Sections/ReplyComment.js"],"names":["React","useEffect","useState","SingleComment","ReplyComment","props","ChildCommentNumber","setChildCommentNumber","OpenReplyComments","setOpenReplyComments","commentNumber","CommentLists","map","comment","responseTo","parentCommentId","renderReplyComment","index","width","marginLeft","postId","refreshFunction","_id","handleChange","fontSize","margin","color"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;AAEA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAAA,oBAGIH,QAAQ,CAAC,CAAD,CAHZ;AAAA;AAAA,QAElBI,kBAFkB;AAAA,QAGrBC,qBAHqB;;AAAA,qBAKGL,QAAQ,CAAC,KAAD,CALX;AAAA;AAAA,QAIlBM,iBAJkB;AAAA,QAKrBC,oBALqB;;AAMzBR,EAAAA,SAAS,CAAC,MAAM;AAEZ,QAAIS,aAAa,GAAG,CAApB;AACAL,IAAAA,KAAK,CACAM,YADL,CAEKC,GAFL,CAEUC,OAAD,IAAa;AAEd,UAAIA,OAAO,CAACC,UAAR,KAAuBT,KAAK,CAACU,eAAjC,EAAkD;AAC9CL,QAAAA,aAAa;AAChB;AACJ,KAPL;AAQAH,IAAAA,qBAAqB,CAACG,aAAD,CAArB;AACH,GAZQ,EAYN,CAACL,KAAK,CAACM,YAAP,EAAqBN,KAAK,CAACU,eAA3B,CAZM,CAAT;;AAcA,MAAIC,kBAAkB,GAAID,eAAD,IAAqBV,KAAK,CAC9CM,YADyC,CAEzCC,GAFyC,CAErC,CAACC,OAAD,EAAUI,KAAV,KACD,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKJ,OAAO,CAACC,UAAR,KAAuBC,eAAvB,IAA0C;AACvC,IAAA,KAAK,EAAE;AACPG,MAAAA,KAAK,EAAE,KADA;AAEPC,MAAAA,UAAU,EAAE;AAFL,KADgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKvC,oBAAC,aAAD;AACI,IAAA,OAAO,EAAEN,OADb;AAEI,IAAA,MAAM,EAAER,KAAK,CAACe,MAFlB;AAGI,IAAA,eAAe,EAAEf,KAAK,CAACgB,eAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALuC,EASvC,oBAAC,YAAD;AACI,IAAA,YAAY,EAAEhB,KAAK,CAACM,YADxB;AAEI,IAAA,eAAe,EAAEE,OAAO,CAACS,GAF7B;AAGI,IAAA,MAAM,EAAEjB,KAAK,CAACe,MAHlB;AAII,IAAA,eAAe,EAAEf,KAAK,CAACgB,eAJ3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATuC,CAD/C,CAHsC,CAA9C;;AAuBA,QAAME,YAAY,GAAG,MAAM;AACvBd,IAAAA,oBAAoB,CAAC,CAACD,iBAAF,CAApB;AACH,GAFD;;AAIA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEKF,kBAAkB,GAAG,CAArB,IAA0B;AACvB,IAAA,KAAK,EAAE;AACPkB,MAAAA,QAAQ,EAAE,MADH;AAEPC,MAAAA,MAAM,EAAE,CAFD;AAGPC,MAAAA,KAAK,EAAE;AAHA,KADgB;AAMvB,IAAA,OAAO,EAAEH,YANc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAOjBjB,kBAPiB,oBAF/B,EAcKE,iBAAiB,IAAIQ,kBAAkB,CAACX,KAAK,CAACU,eAAP,CAd5C,CADJ;AAoBH;;AAED,eAAeX,YAAf","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport SingleComment from './SingleComment';\n\nfunction ReplyComment(props) {\n\n    const [ChildCommentNumber,\n        setChildCommentNumber] = useState(0)\n    const [OpenReplyComments,\n        setOpenReplyComments] = useState(false)\n    useEffect(() => {\n\n        let commentNumber = 0;\n        props\n            .CommentLists\n            .map((comment) => {\n\n                if (comment.responseTo === props.parentCommentId) {\n                    commentNumber++\n                }\n            })\n        setChildCommentNumber(commentNumber)\n    }, [props.CommentLists, props.parentCommentId])\n\n    let renderReplyComment = (parentCommentId) => props\n        .CommentLists\n        .map((comment, index) => (\n            <React.Fragment>\n                {comment.responseTo === parentCommentId && <div\n                    style={{\n                    width: '80%',\n                    marginLeft: '40px'\n                }}>\n                    <SingleComment\n                        comment={comment}\n                        postId={props.postId}\n                        refreshFunction={props.refreshFunction}/>\n                    <ReplyComment\n                        CommentLists={props.CommentLists}\n                        parentCommentId={comment._id}\n                        postId={props.postId}\n                        refreshFunction={props.refreshFunction}/>\n                </div>\n}\n            </React.Fragment>\n        ))\n\n    const handleChange = () => {\n        setOpenReplyComments(!OpenReplyComments)\n    }\n\n    return (\n        <div>\n\n            {ChildCommentNumber > 0 && <p\n                style={{\n                fontSize: '14px',\n                margin: 0,\n                color: 'gray'\n            }}\n                onClick={handleChange}>\n                View {ChildCommentNumber}\n                more comment(s)\n            </p>\n}\n\n            {OpenReplyComments && renderReplyComment(props.parentCommentId)\n}\n\n        </div>\n    )\n}\n\nexport default ReplyComment"]},"metadata":{},"sourceType":"module"}