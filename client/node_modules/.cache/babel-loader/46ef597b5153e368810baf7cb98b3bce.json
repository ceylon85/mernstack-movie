{"ast":null,"code":"import _slicedToArray from \"/Users/heavenvoice/Desktop/code/mernstack-movie/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/heavenvoice/Desktop/code/mernstack-movie/client/src/components/views/FavoritePage/FavoritePage.js\";\nimport React, { useEffect, useState } from 'react';\nimport './favorite.css';\nimport Axios from 'axios';\nimport { Popover } from 'antd';\nimport { IMAGE_BASE_URL } from '../../Config';\n\nfunction FavoritePage() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        Favorites = _useState2[0],\n        setFavorites = _useState2[1];\n\n  useEffect(() => {\n    Axios.post('/api/favorite/getFavoredMovie', {\n      useFrom: localStorage.getItem('userId')\n    }).then(response => {\n      if (response.data.success) {\n        setFavorites(response.data.favorites);\n      } else {\n        alert('영화 정보를 가져오는데 실패했습니다 ㅠ ㅠ');\n      }\n    });\n  }, []);\n  const renderCards = Favorites.map((favorite, index) => {\n    const content = React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, favorite.moviePost ? React.createElement(\"img\", {\n      src: \"\".concat(IMAGE_BASE_URL, \"w500\").concat(favorite.moviePost),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }) : \"No image\", \"}\");\n    return React.createElement(\"tr\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, React.createElement(Popover, {\n      content: content,\n      title: \"\".concat(favorite.movieTitle),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, favorite.movieTitle)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, favorite.movieRunTime, \"mins\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: onClickDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"Remove\")));\n  });\n  return React.createElement(\"div\", {\n    style: {\n      width: '85%',\n      margin: '3rem auto'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Favorite Movies\"), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Movie Title\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Movie RunTime\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Remove from favorites\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, renderCards)));\n}\n\nexport default FavoritePage;","map":{"version":3,"sources":["/Users/heavenvoice/Desktop/code/mernstack-movie/client/src/components/views/FavoritePage/FavoritePage.js"],"names":["React","useEffect","useState","Axios","Popover","IMAGE_BASE_URL","FavoritePage","Favorites","setFavorites","post","useFrom","localStorage","getItem","then","response","data","success","favorites","alert","renderCards","map","favorite","index","content","moviePost","movieTitle","movieRunTime","onClickDelete","width","margin"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAO,gBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,MAAtB;AACA,SAASC,cAAT,QAA+B,cAA/B;;AACA,SAASC,YAAT,GAAwB;AAAA,oBAGAJ,QAAQ,CAAC,EAAD,CAHR;AAAA;AAAA,QAEbK,SAFa;AAAA,QAGhBC,YAHgB;;AAKpBP,EAAAA,SAAS,CAAC,MAAM;AACZE,IAAAA,KAAK,CACAM,IADL,CACU,+BADV,EAC2C;AACvCC,MAAAA,OAAO,EAAEC,YAAY,CAACC,OAAb,CAAqB,QAArB;AAD8B,KAD3C,EAIKC,IAJL,CAIUC,QAAQ,IAAI;AACd,UAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAlB,EAA2B;AACvBR,QAAAA,YAAY,CAACM,QAAQ,CAACC,IAAT,CAAcE,SAAf,CAAZ;AACH,OAFD,MAEO;AACHC,QAAAA,KAAK,CAAC,yBAAD,CAAL;AACH;AACJ,KAVL;AAWH,GAZQ,EAYN,EAZM,CAAT;AAcA,QAAMC,WAAW,GAAGZ,SAAS,CAACa,GAAV,CAAc,CAACC,QAAD,EAAWC,KAAX,KAAqB;AAEnD,UAAMC,OAAO,GACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKF,QAAQ,CAACG,SAAT,GACD;AAAK,MAAA,GAAG,YAAOnB,cAAP,iBAA4BgB,QAAQ,CAACG,SAArC,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADC,GAC8D,UAFnE,MADJ;AAOF,WAAQ;AAAI,MAAA,GAAG,EAAEF,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACF,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAGC,OAAnB;AAA4B,MAAA,KAAK,YAAKF,QAAQ,CAACI,UAAd,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKJ,QAAQ,CAACI,UAAd,CADJ,CADE,EAIF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKJ,QAAQ,CAACK,YAAd,SAJE,EAMF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,OAAO,EAAEC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CANE,CAAR;AAUD,GAnBmB,CAApB;AAqBA,SACI;AACI,IAAA,KAAK,EAAE;AACPC,MAAAA,KAAK,EAAE,KADA;AAEPC,MAAAA,MAAM,EAAE;AAFD,KADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBALJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAHJ,CADJ,CADJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKV,WADL,CARJ,CARJ,CADJ;AAuBH;;AAED,eAAeb,YAAf","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport './favorite.css';\nimport Axios from 'axios';\nimport {Popover} from 'antd';\nimport { IMAGE_BASE_URL } from '../../Config';\nfunction FavoritePage() {\n\n    const [Favorites,\n        setFavorites] = useState([])\n\n    useEffect(() => {\n        Axios\n            .post('/api/favorite/getFavoredMovie', {\n            useFrom: localStorage.getItem('userId')\n        })\n            .then(response => {\n                if (response.data.success) {\n                    setFavorites(response.data.favorites)\n                } else {\n                    alert('영화 정보를 가져오는데 실패했습니다 ㅠ ㅠ')\n                }\n            })\n    }, [])\n\n    const renderCards = Favorites.map((favorite, index) => {\n        \n        const content = (\n            <div>\n                {favorite.moviePost ?\n                <img src = {`${IMAGE_BASE_URL}w500${favorite.moviePost}`} /> : \"No image\"}\n            }\n            </div>\n        )\n      return  <tr key={index}>\n            <Popover content ={content} title={`${favorite.movieTitle}`}>\n                <td>{favorite.movieTitle}</td>\n            </Popover>\n            <td>{favorite.movieRunTime}\n                mins</td>\n            <td>\n                <button onClick={onClickDelete}>Remove</button>\n            </td>\n        </tr>\n    })\n\n    return (\n        <div\n            style={{\n            width: '85%',\n            margin: '3rem auto'\n        }}>\n            <h2>Favorite Movies</h2>\n            <hr/>\n\n            <table>\n                <thead>\n                    <tr>\n                        <th>Movie Title</th>\n                        <th>Movie RunTime</th>\n                        <th>Remove from favorites</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {renderCards}\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default FavoritePage\n"]},"metadata":{},"sourceType":"module"}