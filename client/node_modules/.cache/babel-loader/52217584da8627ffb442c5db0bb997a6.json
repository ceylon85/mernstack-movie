{"ast":null,"code":"import _slicedToArray from \"/Users/heavenvoice/Desktop/code/mernstack-movie/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/heavenvoice/Desktop/code/mernstack-movie/client/src/components/views/MovieDetail/Sections/Favorite.js\";\nimport React, { useEffect, useState } from 'react';\nimport Axios from 'axios';\nimport { Button } from 'antd';\n\nfunction Favorite(props) {\n  const movieId = props.movieId;\n  const userFrom = props.userFrom;\n  const movieTitle = props.movieInfo.title;\n  const moviePost = props.movieInfo.backdrop_path;\n  const movieRunTime = props.movieInfo.runtime;\n\n  const _useState = useState(0),\n        _useState2 = _slicedToArray(_useState, 2),\n        FavoriteNumber = _useState2[0],\n        setFavoriteNumber = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        Favorited = _useState4[0],\n        setFavorited = _useState4[1];\n\n  let variables = {\n    userFrom: userFrom,\n    movieId: movieId,\n    movieTitle: movieTitle,\n    moviePost: moviePost,\n    movieRunTime: movieRunTime\n  };\n  useEffect(() => {\n    Axios.post('/api/favorite/favoriteNumber', variables).then(response => {\n      setFavoriteNumber(response.data.favoriteNumber);\n\n      if (response.data.success) {} else {\n        alert('숫자 정보를 가져오는데 실패 했습니다.');\n      }\n    });\n    Axios.post('/api/favorite/favorited', variables).then(response => {\n      if (response.data.success) {\n        setFavorited(response.data.favorited);\n      } else {\n        alert('정보를 가져오는데 실패 했습니다.');\n      }\n    });\n  }, []);\n\n  const onClickFavorite = () => {\n    if (Favorited) {\n      Axios.post('/api/favorite/removeFromFavorite', variables).then(response => {\n        if (response.data.success) {\n          setFavoriteNumber(FavoriteNumber - 1);\n          setFavorited(!Favorited);\n        } else {\n          alert('Favorite 리스트에서 지우는 걸 실패했습니다.');\n        }\n      });\n    } else {\n      Axios.post('/api/favorite/addToFavorite', variables).then(response => {\n        if (response.data.success) {\n          setFavoriteNumber(FavoriteNumber + 1);\n          setFavorited(!Favorited);\n        } else {\n          alert('Favorite 리스트에서 추가하는 걸 실패했습니다.');\n        }\n      });\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: onClickFavorite,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, Favorited ? \" Not Favorite\" : \"Add to Favorite \", \" \", FavoriteNumber));\n}\n\nexport default Favorite;","map":{"version":3,"sources":["/Users/heavenvoice/Desktop/code/mernstack-movie/client/src/components/views/MovieDetail/Sections/Favorite.js"],"names":["React","useEffect","useState","Axios","Button","Favorite","props","movieId","userFrom","movieTitle","movieInfo","title","moviePost","backdrop_path","movieRunTime","runtime","FavoriteNumber","setFavoriteNumber","Favorited","setFavorited","variables","post","then","response","data","favoriteNumber","success","alert","favorited","onClickFavorite"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport Axios from 'axios'\nimport {Button} from 'antd';\n\nfunction Favorite(props) {\n\n    const movieId = props.movieId\n    const userFrom = props.userFrom\n    const movieTitle = props.movieInfo.title\n    const moviePost = props.movieInfo.backdrop_path\n    const movieRunTime = props.movieInfo.runtime\n\n    const [FavoriteNumber,\n        setFavoriteNumber] = useState(0)\n    const [Favorited,\n        setFavorited] = useState(false)\n    let variables = {\n        userFrom: userFrom,\n        movieId: movieId,\n        movieTitle: movieTitle,\n        moviePost: moviePost,\n        movieRunTime: movieRunTime\n    }\n\n    useEffect(() => {\n\n        Axios\n            .post('/api/favorite/favoriteNumber', variables)\n            .then(response => {\n                setFavoriteNumber(response.data.favoriteNumber)\n                if (response.data.success) {} else {\n                    alert('숫자 정보를 가져오는데 실패 했습니다.')\n                }\n            })\n\n        Axios\n            .post('/api/favorite/favorited', variables)\n            .then(response => {\n                if (response.data.success) {\n                    setFavorited(response.data.favorited)\n                } else {\n                    alert('정보를 가져오는데 실패 했습니다.')\n                }\n            })\n\n    }, [])\n\n    const onClickFavorite = () => {\n\n        if (Favorited) {\n            Axios\n                .post('/api/favorite/removeFromFavorite', variables)\n                .then(response => {\n                    if (response.data.success) {\n                        setFavoriteNumber(FavoriteNumber - 1)\n                        setFavorited(!Favorited)\n                    } else {\n                        alert('Favorite 리스트에서 지우는 걸 실패했습니다.')\n                    }\n                })\n\n        } else {\n            Axios\n                .post('/api/favorite/addToFavorite', variables)\n                .then(response => {\n                    if (response.data.success) {\n                        setFavoriteNumber(FavoriteNumber + 1)\n                        setFavorited(!Favorited)\n\n                    } else {\n                        alert('Favorite 리스트에서 추가하는 걸 실패했습니다.')\n                    }\n                })\n        }\n\n    }\n\n    return (\n        <div>\n            <Button onClick={onClickFavorite}>{Favorited\n                    ? \" Not Favorite\"\n                    : \"Add to Favorite \"} {FavoriteNumber}\n            </Button>\n\n        </div>\n    )\n}\n\nexport default Favorite"]},"metadata":{},"sourceType":"module"}