{"ast":null,"code":"import _slicedToArray from \"/Users/heavenvoice/Desktop/code/mernstack-movie/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/heavenvoice/Desktop/code/mernstack-movie/client/src/components/views/LandingPage/LandingPage.js\";\nimport React, { useEffect, useState } from 'react';\nimport { FaCode } from \"react-icons/fa\";\nimport { API_URL, API_KEY, IMAGE_BASE_URL } from '../../Config';\nimport MainImage from './Sections/MainImage';\nimport GridCards from '../commons/GridCards';\nimport { Row } from 'antd';\nimport { response } from 'express';\n\nfunction LandingPage() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        Movies = _useState2[0],\n        setMovies = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        MainMovieImage = _useState4[0],\n        setMainMovieImage = _useState4[1];\n\n  const _useState5 = useState(0),\n        _useState6 = _slicedToArray(_useState5, 2),\n        CurrentPage = _useState6[0],\n        setCurrentPage = _useState6[1];\n\n  useEffect(() => {\n    // 가장 인기 많은 영화 리스트 1페이지에 20씩 로딩\n    const endpoint = \"\".concat(API_URL, \"movie/popular?api_key=\").concat(API_KEY, \"&language=en-US&page=1\");\n    fetchMovies(endpoint);\n  }, []);\n\n  const fetchMovies = endpoint => {\n    fetch(endpoint).then(response => response.json()).then(response => {\n      console.log(response);\n      setMovies([...response.results]);\n      setMainMovieImage(response.results[0]);\n      setCurrentPage(response.page);\n    });\n  };\n\n  const loadMoreItems = () => {\n    const endpoint = \"\".concat(API_URL, \"movie/popular?api_key=\").concat(API_KEY, \"&language=en-US&page=\").concat(CurrentPage + 1);\n    fetchMovies(endpoint);\n  };\n\n  return React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      margin: '0'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, MainMovieImage && React.createElement(MainImage, {\n    image: \"\".concat(IMAGE_BASE_URL, \"w1280\").concat(MainMovieImage.backdrop_path),\n    title: MainMovieImage.original_title,\n    text: MainMovieImage.overview,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    style: {\n      width: '85%',\n      margin: '1rem auto'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Movies by latest\"), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), \" \", React.createElement(Row, {\n    gutter: [16, 16],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, Movies && Movies.map((movie, index) => React.createElement(React.Fragment, {\n    key: index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(GridCards, {\n    image: movie.poster_path ? \"\".concat(IMAGE_BASE_URL, \"w500\").concat(movie.poster_path) : null,\n    movieId: movie.id,\n    movieName: movie.original_title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }))))), React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: loadMoreItems,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"\\uB354 \\uBCF4\\uAE30\")));\n}\n\nexport default LandingPage;","map":{"version":3,"sources":["/Users/heavenvoice/Desktop/code/mernstack-movie/client/src/components/views/LandingPage/LandingPage.js"],"names":["React","useEffect","useState","FaCode","API_URL","API_KEY","IMAGE_BASE_URL","MainImage","GridCards","Row","response","LandingPage","Movies","setMovies","MainMovieImage","setMainMovieImage","CurrentPage","setCurrentPage","endpoint","fetchMovies","fetch","then","json","console","log","results","page","loadMoreItems","width","margin","backdrop_path","original_title","overview","map","movie","index","poster_path","id","display","justifyContent"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {FaCode} from \"react-icons/fa\";\nimport {API_URL, API_KEY, IMAGE_BASE_URL} from '../../Config';\nimport MainImage from './Sections/MainImage';\nimport GridCards from '../commons/GridCards';\nimport {Row} from 'antd';\nimport { response } from 'express';\n\nfunction LandingPage() {\n\n    const [Movies,\n        setMovies] = useState([])\n    const [MainMovieImage,\n        setMainMovieImage] = useState(null)\n    const [CurrentPage, setCurrentPage] = useState(0)\n\n    useEffect(() => {\n        // 가장 인기 많은 영화 리스트 1페이지에 20씩 로딩\n        const endpoint = `${API_URL}movie/popular?api_key=${API_KEY}&language=en-US&page=1`;\n        fetchMovies(endpoint)\n    }, [])\n\n    const fetchMovies = (endpoint) => {\n        fetch(endpoint)\n            .then(response => response.json())\n            .then(response => {\n                console.log(response)\n                setMovies([...response.results])\n                setMainMovieImage(response.results[0])\n                setCurrentPage(response.page)\n            })\n    }\n\n    const loadMoreItems =() =>{\n\n        const endpoint = `${API_URL}movie/popular?api_key=${API_KEY}&language=en-US&page=${CurrentPage + 1}`;\n        fetchMovies(endpoint)\n    }\n    return (\n        <div style={{\n            width: '100%',\n            margin: '0'\n        }}>\n            {/* Main Image */}\n            {MainMovieImage && <MainImage\n                image={`${IMAGE_BASE_URL}w1280${MainMovieImage.backdrop_path}`}\n                title={MainMovieImage.original_title}\n                text={MainMovieImage.overview}/>}\n\n            <div\n                style={{\n                width: '85%',\n                margin: '1rem auto'\n            }}>\n                <h2>Movies by latest</h2>\n                <hr/> {/* Movie Grid Cards */}\n                <Row gutter={[16, 16]}>\n\n                    {Movies && Movies.map((movie, index) => (\n                        <React.Fragment key={index}>\n                            <GridCards\n                                image={movie.poster_path\n                                ? `${IMAGE_BASE_URL}w500${movie.poster_path}`\n                                : null}\n                                movieId={movie.id}\n                                movieName={movie.original_title}/>\n                        </React.Fragment>\n                    ))}\n\n                </Row>\n            </div>\n            <div\n                style={{\n                display: 'flex',\n                justifyContent: 'center'\n            }}>\n                <button onClick={loadMoreItems}>더 보기</button>\n            </div>\n\n        </div>\n\n    )\n}\n\nexport default LandingPage\n"]},"metadata":{},"sourceType":"module"}