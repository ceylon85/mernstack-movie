{"ast":null,"code":"import _slicedToArray from \"/Users/heavenvoice/Desktop/code/mernstack-movie/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/heavenvoice/Desktop/code/mernstack-movie/client/src/components/views/LandingPage/LandingPage.js\";\nimport React, { useEffect, useState } from 'react';\nimport { FaCode } from \"react-icons/fa\";\nimport { API_URL, API_KEY, IMAGE_BASE_URL } from '../../Config';\nimport MainImage from './Sections/MainImage';\nimport axios from 'axios';\nimport GridCards from '../commons/GridCards';\nimport { Row } from 'antd';\n\nfunction LandingPage() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        Movies = _useState2[0],\n        setMovies = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        MainMovieImage = _useState4[0],\n        setMainMovieImage = _useState4[1];\n\n  const _useState5 = useState(0),\n        _useState6 = _slicedToArray(_useState5, 2),\n        CurrentPage = _useState6[0],\n        setCurrentPage = _useState6[1];\n\n  useEffect(() => {\n    const endpoint = \"\".concat(API_URL, \"movie/popular?api_key=\").concat(API_KEY, \"&language=en-US&page=1\");\n    fetchMovies(endpoint);\n  }, []);\n\n  const fetchMovies = endpoint => {\n    fetch(endpoint).then(response => response.json()).then(response => {\n      console.log(response);\n      setMovies([...Movies, ...response.results]);\n      setMainMovieImage(response.results[0]);\n      setCurrentPage(response.page);\n    });\n  };\n\n  const loadMoreItems = () => {\n    const endpoint = \"\".concat(API_URL, \"movie/popular?api_key=\").concat(API_KEY, \"&language=en-US&page=\").concat(CurrentPage + 1);\n    fetchMovies(endpoint);\n  };\n\n  return React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      margin: '0'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, MainMovieImage && React.createElement(MainImage, {\n    image: \"\".concat(IMAGE_BASE_URL, \"w1280\").concat(MainMovieImage.backdrop_path),\n    title: MainMovieImage.original_title,\n    text: MainMovieImage.overview,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    style: {\n      width: '85%',\n      margin: '1rem auto'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Movies by latest\"), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(Row, {\n    gutter: [16, 16],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, Movies && Movies.map((movie, index) => React.createElement(React.Fragment, {\n    key: index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(GridCards, {\n    landingPage: true,\n    image: movie.poster_path ? \"\".concat(IMAGE_BASE_URL, \"w500\").concat(movie.poster_path) : null,\n    movieId: movie.id,\n    movieName: movie.original_title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }))))), React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: loadMoreItems,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \" Load More\")));\n}\n\nexport default LandingPage;","map":{"version":3,"sources":["/Users/heavenvoice/Desktop/code/mernstack-movie/client/src/components/views/LandingPage/LandingPage.js"],"names":["React","useEffect","useState","FaCode","API_URL","API_KEY","IMAGE_BASE_URL","MainImage","axios","GridCards","Row","LandingPage","Movies","setMovies","MainMovieImage","setMainMovieImage","CurrentPage","setCurrentPage","endpoint","fetchMovies","fetch","then","response","json","console","log","results","page","loadMoreItems","width","margin","backdrop_path","original_title","overview","map","movie","index","poster_path","id","display","justifyContent"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { FaCode } from \"react-icons/fa\";\nimport { API_URL, API_KEY, IMAGE_BASE_URL } from '../../Config';\nimport MainImage from './Sections/MainImage';\nimport axios from 'axios';\nimport GridCards from '../commons/GridCards';\nimport { Row } from 'antd';\n\nfunction LandingPage() {\n\n\n    const [Movies, setMovies] = useState([])\n    const [MainMovieImage, setMainMovieImage] = useState(null)\n    const [CurrentPage, setCurrentPage] = useState(0)\n\n    useEffect(() => {\n        const endpoint = `${API_URL}movie/popular?api_key=${API_KEY}&language=en-US&page=1`;\n        fetchMovies(endpoint)\n\n    }, [])\n\n\n    const fetchMovies = (endpoint) => {\n        fetch(endpoint)\n            .then(response => response.json())\n            .then(response => {\n                console.log(response)\n                setMovies([...Movies, ...response.results])\n                setMainMovieImage(response.results[0])\n                setCurrentPage(response.page)\n            })\n    }\n\n    const loadMoreItems = () => {\n\n        const endpoint = `${API_URL}movie/popular?api_key=${API_KEY}&language=en-US&page=${CurrentPage + 1}`;\n        fetchMovies(endpoint)\n\n    }\n\n\n    return (\n        <div style={{ width: '100%', margin: '0' }}>\n\n            {/* Main Image */}\n            {MainMovieImage &&\n                <MainImage\n                    image={`${IMAGE_BASE_URL}w1280${MainMovieImage.backdrop_path}`}\n                    title={MainMovieImage.original_title}\n                    text={MainMovieImage.overview}\n                />\n            }\n\n\n            <div style={{ width: '85%', margin: '1rem auto' }}>\n\n                <h2>Movies by latest</h2>\n                <hr />\n\n                {/* Movie Grid Cards */}\n\n                <Row gutter={[16, 16]} >\n\n                    {Movies && Movies.map((movie, index) => (\n                        <React.Fragment key={index}>\n                            <GridCards\n                                landingPage\n                                image={movie.poster_path ?\n                                    `${IMAGE_BASE_URL}w500${movie.poster_path}` : null}\n                                movieId={movie.id}\n                                movieName={movie.original_title}\n                            />\n                        </React.Fragment>\n                    ))}\n\n                </Row>\n\n            </div>\n\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\n                <button onClick={loadMoreItems}> Load More</button>\n            </div>\n\n        </div>\n    )\n}\n\nexport default LandingPage"]},"metadata":{},"sourceType":"module"}